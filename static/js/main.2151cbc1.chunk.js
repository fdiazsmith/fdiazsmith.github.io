(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{21:function(e,t,n){"use strict";(function(e){var n=function(){this._tweens={},this._tweensAddedDuringUpdate={}};n.prototype={getAll:function(){return Object.keys(this._tweens).map(function(e){return this._tweens[e]}.bind(this))},removeAll:function(){this._tweens={}},add:function(e){this._tweens[e.getId()]=e,this._tweensAddedDuringUpdate[e.getId()]=e},remove:function(e){delete this._tweens[e.getId()],delete this._tweensAddedDuringUpdate[e.getId()]},update:function(e,t){var n=Object.keys(this._tweens);if(0===n.length)return!1;for(e=void 0!==e?e:a.now();n.length>0;){this._tweensAddedDuringUpdate={};for(var o=0;o<n.length;o++){var i=this._tweens[n[o]];i&&!1===i.update(e)&&(i._isPlaying=!1,t||delete this._tweens[n[o]])}n=Object.keys(this._tweensAddedDuringUpdate)}return!0}};var a=new n;a.Group=n,a._nextId=0,a.nextId=function(){return a._nextId++},"undefined"===typeof window.self&&"undefined"!==typeof e&&e.hrtime?a.now=function(){var t=e.hrtime();return 1e3*t[0]+t[1]/1e6}:"undefined"!==typeof window.self&&void 0!==window.self.performance&&void 0!==window.self.performance.now?a.now=window.self.performance.now.bind(window.self.performance):void 0!==Date.now?a.now=Date.now:a.now=function(){return(new Date).getTime()},a.Tween=function(e,t){this._object=e,this._valuesStart={},this._valuesEnd={},this._valuesStartRepeat={},this._duration=1e3,this._repeat=0,this._repeatDelayTime=void 0,this._yoyo=!1,this._isPlaying=!1,this._reversed=!1,this._delayTime=0,this._startTime=null,this._easingFunction=a.Easing.Linear.None,this._interpolationFunction=a.Interpolation.Linear,this._chainedTweens=[],this._onStartCallback=null,this._onStartCallbackFired=!1,this._onUpdateCallback=null,this._onRepeatCallback=null,this._onCompleteCallback=null,this._onStopCallback=null,this._group=t||a,this._id=a.nextId()},a.Tween.prototype={getId:function(){return this._id},isPlaying:function(){return this._isPlaying},to:function(e,t){return this._valuesEnd=Object.create(e),void 0!==t&&(this._duration=t),this},duration:function(e){return this._duration=e,this},start:function(e){for(var t in this._group.add(this),this._isPlaying=!0,this._onStartCallbackFired=!1,this._startTime=void 0!==e?"string"===typeof e?a.now()+parseFloat(e):e:a.now(),this._startTime+=this._delayTime,this._valuesEnd){if(this._valuesEnd[t]instanceof Array){if(0===this._valuesEnd[t].length)continue;this._valuesEnd[t]=[this._object[t]].concat(this._valuesEnd[t])}void 0!==this._object[t]&&(this._valuesStart[t]=this._object[t],this._valuesStart[t]instanceof Array===!1&&(this._valuesStart[t]*=1),this._valuesStartRepeat[t]=this._valuesStart[t]||0)}return this},stop:function(){return this._isPlaying?(this._group.remove(this),this._isPlaying=!1,null!==this._onStopCallback&&this._onStopCallback(this._object),this.stopChainedTweens(),this):this},end:function(){return this.update(1/0),this},stopChainedTweens:function(){for(var e=0,t=this._chainedTweens.length;e<t;e++)this._chainedTweens[e].stop()},group:function(e){return this._group=e,this},delay:function(e){return this._delayTime=e,this},repeat:function(e){return this._repeat=e,this},repeatDelay:function(e){return this._repeatDelayTime=e,this},yoyo:function(e){return this._yoyo=e,this},easing:function(e){return this._easingFunction=e,this},interpolation:function(e){return this._interpolationFunction=e,this},chain:function(){return this._chainedTweens=arguments,this},onStart:function(e){return this._onStartCallback=e,this},onUpdate:function(e){return this._onUpdateCallback=e,this},onRepeat:function(e){return this._onRepeatCallback=e,this},onComplete:function(e){return this._onCompleteCallback=e,this},onStop:function(e){return this._onStopCallback=e,this},update:function(e){var t,n,a;if(e<this._startTime)return!0;for(t in!1===this._onStartCallbackFired&&(null!==this._onStartCallback&&this._onStartCallback(this._object),this._onStartCallbackFired=!0),n=(e-this._startTime)/this._duration,n=0===this._duration||n>1?1:n,a=this._easingFunction(n),this._valuesEnd)if(void 0!==this._valuesStart[t]){var o=this._valuesStart[t]||0,i=this._valuesEnd[t];i instanceof Array?this._object[t]=this._interpolationFunction(i,a):("string"===typeof i&&(i="+"===i.charAt(0)||"-"===i.charAt(0)?o+parseFloat(i):parseFloat(i)),"number"===typeof i&&(this._object[t]=o+(i-o)*a))}if(null!==this._onUpdateCallback&&this._onUpdateCallback(this._object,n),1===n){if(this._repeat>0){for(t in isFinite(this._repeat)&&this._repeat--,this._valuesStartRepeat){if("string"===typeof this._valuesEnd[t]&&(this._valuesStartRepeat[t]=this._valuesStartRepeat[t]+parseFloat(this._valuesEnd[t])),this._yoyo){var r=this._valuesStartRepeat[t];this._valuesStartRepeat[t]=this._valuesEnd[t],this._valuesEnd[t]=r}this._valuesStart[t]=this._valuesStartRepeat[t]}return this._yoyo&&(this._reversed=!this._reversed),void 0!==this._repeatDelayTime?this._startTime=e+this._repeatDelayTime:this._startTime=e+this._delayTime,null!==this._onRepeatCallback&&this._onRepeatCallback(this._object),!0}null!==this._onCompleteCallback&&this._onCompleteCallback(this._object);for(var s=0,c=this._chainedTweens.length;s<c;s++)this._chainedTweens[s].start(this._startTime+this._duration);return!1}return!0}},a.Easing={Linear:{None:function(e){return e}},Quadratic:{In:function(e){return e*e},Out:function(e){return e*(2-e)},InOut:function(e){return(e*=2)<1?.5*e*e:-.5*(--e*(e-2)-1)}},Cubic:{In:function(e){return e*e*e},Out:function(e){return--e*e*e+1},InOut:function(e){return(e*=2)<1?.5*e*e*e:.5*((e-=2)*e*e+2)}},Quartic:{In:function(e){return e*e*e*e},Out:function(e){return 1- --e*e*e*e},InOut:function(e){return(e*=2)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2)}},Quintic:{In:function(e){return e*e*e*e*e},Out:function(e){return--e*e*e*e*e+1},InOut:function(e){return(e*=2)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2)}},Sinusoidal:{In:function(e){return 1-Math.cos(e*Math.PI/2)},Out:function(e){return Math.sin(e*Math.PI/2)},InOut:function(e){return.5*(1-Math.cos(Math.PI*e))}},Exponential:{In:function(e){return 0===e?0:Math.pow(1024,e-1)},Out:function(e){return 1===e?1:1-Math.pow(2,-10*e)},InOut:function(e){return 0===e?0:1===e?1:(e*=2)<1?.5*Math.pow(1024,e-1):.5*(2-Math.pow(2,-10*(e-1)))}},Circular:{In:function(e){return 1-Math.sqrt(1-e*e)},Out:function(e){return Math.sqrt(1- --e*e)},InOut:function(e){return(e*=2)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)}},Elastic:{In:function(e){return 0===e?0:1===e?1:-Math.pow(2,10*(e-1))*Math.sin(5*(e-1.1)*Math.PI)},Out:function(e){return 0===e?0:1===e?1:Math.pow(2,-10*e)*Math.sin(5*(e-.1)*Math.PI)+1},InOut:function(e){return 0===e?0:1===e?1:(e*=2)<1?-.5*Math.pow(2,10*(e-1))*Math.sin(5*(e-1.1)*Math.PI):.5*Math.pow(2,-10*(e-1))*Math.sin(5*(e-1.1)*Math.PI)+1}},Back:{In:function(e){var t=1.70158;return e*e*((t+1)*e-t)},Out:function(e){var t=1.70158;return--e*e*((t+1)*e+t)+1},InOut:function(e){var t=2.5949095;return(e*=2)<1?e*e*((t+1)*e-t)*.5:.5*((e-=2)*e*((t+1)*e+t)+2)}},Bounce:{In:function(e){return 1-a.Easing.Bounce.Out(1-e)},Out:function(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},InOut:function(e){return e<.5?.5*a.Easing.Bounce.In(2*e):.5*a.Easing.Bounce.Out(2*e-1)+.5}}},a.Interpolation={Linear:function(e,t){var n=e.length-1,o=n*t,i=Math.floor(o),r=a.Interpolation.Utils.Linear;return t<0?r(e[0],e[1],o):t>1?r(e[n],e[n-1],n-o):r(e[i],e[i+1>n?n:i+1],o-i)},Bezier:function(e,t){for(var n=0,o=e.length-1,i=Math.pow,r=a.Interpolation.Utils.Bernstein,s=0;s<=o;s++)n+=i(1-t,o-s)*i(t,s)*e[s]*r(o,s);return n},CatmullRom:function(e,t){var n=e.length-1,o=n*t,i=Math.floor(o),r=a.Interpolation.Utils.CatmullRom;return e[0]===e[n]?(t<0&&(i=Math.floor(o=n*(1+t))),r(e[(i-1+n)%n],e[i],e[(i+1)%n],e[(i+2)%n],o-i)):t<0?e[0]-(r(e[0],e[0],e[1],e[1],-o)-e[0]):t>1?e[n]-(r(e[n],e[n],e[n-1],e[n-1],o-n)-e[n]):r(e[i?i-1:0],e[i],e[n<i+1?n:i+1],e[n<i+2?n:i+2],o-i)},Utils:{Linear:function(e,t,n){return(t-e)*n+e},Bernstein:function(e,t){var n=a.Interpolation.Utils.Factorial;return n(e)/n(t)/n(e-t)},Factorial:function(){var e=[1];return function(t){var n=1;if(e[t])return e[t];for(var a=t;a>1;a--)n*=a;return e[t]=n,n}}(),CatmullRom:function(e,t,n,a,o){var i=.5*(n-e),r=.5*(a-t),s=o*o;return(2*t-2*n+i+r)*(o*s)+(-3*t+3*n-2*i-r)*s+i*o+t}}},t.a=a}).call(this,n(16))},39:function(e,t,n){e.exports=n(88)},62:function(e,t,n){},67:function(e,t){},73:function(e,t){},74:function(e,t){},78:function(e,t,n){},81:function(e,t,n){},82:function(e,t,n){},83:function(e,t,n){},84:function(e,t,n){},85:function(e,t,n){},86:function(e,t,n){},87:function(e,t,n){},88:function(e,t,n){"use strict";n.r(t);var a=n(15),o=n(5),i=n(6),r=n(8),s=n(7),c=n(9),l=n(0),u=n.n(l),h=n(36),m=n.n(h),d=n(17),p=n.n(d),g=n(37),f=n(11),y=n(1),v={verticals:{Horizontal:"#8D5C0C",Nonprofit:"#984A17",Education:"#A0381E",Energy:"#9A1F24",Government:"#A02A38",Agriculture:"#A02B4F",Healthcare:"#A3296B",Insurance:"#933771",Legal:"#7D2695","HR & Recruiting":"#6329AF","Managed Services":"#4F29CC","Financial Services":"#3232E6","Sales & Marketing":"#1751D3",Retail:"#136AAA",Hospitality:"#0F7A93","Real Estate":"#108178","Sports, Media & Entertainment":"#0C794F",Security:"#167132",Telecom:"#35691E",Automotive:"#4E6E1B",Transportation:"#676715",Vista:"#ffffff"},grays:{Level_1:"#A0A0A0",Level_2:"#727272",Level_3:"#505050",Level_4:"#383838"},general:{Dark_Blue:"#011B30",White:"#FFFFFF"}},b=(n(61),function(e,t,n){this.object=e,this.sphere=n||null,this.domElement=void 0!==t?t:document,this.enabled=!0,this.target=new y.Vector3,this.minDistance=0,this.maxDistance=1/0,this.minZoom=0,this.maxZoom=1/0,this.minPolarAngle=0,this.maxPolarAngle=Math.PI,this.minAzimuthAngle=-1/0,this.maxAzimuthAngle=1/0,this.enableDamping=!1,this.dampingFactor=.25,this.enableZoom=!0,this.zoomSpeed=1,this.enableRotate=!0,this.rotateSpeed=1,this.enablePan=!0,this.panSpeed=1,this.screenSpacePanning=!1,this.keyPanSpeed=7,this.autoRotate=!1,this.autoRotateSpeed=2,this.enableKeys=!0,this.keys={LEFT:37,UP:38,RIGHT:39,BOTTOM:40},this.mouseButtons={LEFT:y.MOUSE.LEFT,MIDDLE:y.MOUSE.MIDDLE,RIGHT:y.MOUSE.RIGHT},this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this.getPolarAngle=function(){return u.phi},this.getAzimuthalAngle=function(){return u.theta},this.saveState=function(){a.target0.copy(a.target),a.position0.copy(a.object.position),a.zoom0=a.object.zoom},this.reset=function(){a.target.copy(a.target0),a.object.position.copy(a.position0),a.object.zoom=a.zoom0,a.object.updateProjectionMatrix(),a.dispatchEvent(o),a.update(),c=s.NONE},this.update=function(){var t=new y.Vector3,n=(new y.Quaternion).setFromUnitVectors(e.up,new y.Vector3(0,1,0)),i=n.clone().inverse(),r=new y.Vector3,g=new y.Quaternion;return function(){var e=a.object.position;return t.copy(e).sub(a.target),t.applyQuaternion(n),u.setFromVector3(t),a.autoRotate&&c===s.NONE&&T(2*Math.PI/60/60*a.autoRotateSpeed),u.theta+=h.theta,u.phi+=h.phi,u.theta=Math.max(a.minAzimuthAngle,Math.min(a.maxAzimuthAngle,u.theta)),u.phi=Math.max(a.minPolarAngle,Math.min(a.maxPolarAngle,u.phi)),u.makeSafe(),u.radius*=m,u.radius=Math.max(a.minDistance,Math.min(a.maxDistance,u.radius)),a.target.add(d),t.setFromSpherical(u),t.applyQuaternion(i),e.copy(a.target).add(t),a.object.lookAt(a.target),!0===a.enableDamping?(h.theta*=1-a.dampingFactor,h.phi*=1-a.dampingFactor,d.multiplyScalar(1-a.dampingFactor)):(h.set(0,0,0),d.set(0,0,0)),m=1,!!(p||r.distanceToSquared(a.object.position)>l||8*(1-g.dot(a.object.quaternion))>l)&&(a.dispatchEvent(o),r.copy(a.object.position),g.copy(a.object.quaternion),p=!1,!0)}}(),this.dispose=function(){a.domElement.removeEventListener("contextmenu",U,!1),a.domElement.removeEventListener("mousedown",L,!1),a.domElement.removeEventListener("wheel",P,!1),a.domElement.removeEventListener("touchstart",F,!1),a.domElement.removeEventListener("touchend",H,!1),a.domElement.removeEventListener("touchmove",z,!1),document.removeEventListener("mousemove",D,!1),document.removeEventListener("mouseup",R,!1),window.removeEventListener("keydown",B,!1)},this.getState=function(){return c};this.zoomBar=function(e){return e<0?I(O()):e>0&&N(O()),a.update(),this.getZoomPercent()},this.getScale=function(){return u.radius},this.getZoomPercent=function(){if(a.object.isPerspectiveCamera){if(a.maxDistance===1/0)throw"Need to have a non infinite number!";return(u.radius-a.minDistance)/(a.maxDistance-a.minDistance)}if(a.object.isOrthographicCamera){if(a.maxZoom===1/0)throw"Need to have a non infinite number!";return(a.object.zoom-a.minZoom)/(a.maxZoom-a.minZoom)}};var a=this,o={type:"change"},i={type:"start"},r={type:"end"},s={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_DOLLY_PAN:4},c=s.NONE,l=1e-6,u=new y.Spherical,h=new y.Spherical,m=1,d=new y.Vector3,p=!1,g=new y.Vector2,f=new y.Vector2,v=new y.Vector2,b=new y.Vector2,w=new y.Vector2,E=new y.Vector2,x=new y.Vector2,_=new y.Vector2,C=new y.Vector2;function O(){return Math.pow(.95,a.zoomSpeed)}function T(e){h.theta-=e}function k(e){h.phi-=e}var M=function(){var e=new y.Vector3;return function(t,n){e.setFromMatrixColumn(n,0),e.multiplyScalar(-t),d.add(e)}}(),S=function(){var e=new y.Vector3;return function(t,n){!0===a.screenSpacePanning?e.setFromMatrixColumn(n,1):(e.setFromMatrixColumn(n,0),e.crossVectors(a.object.up,e)),e.multiplyScalar(t),d.add(e)}}(),j=function(){var e=new y.Vector3;return function(t,n){var o=a.domElement===document?a.domElement.body:a.domElement;if(a.object.isPerspectiveCamera){var i=a.object.position;e.copy(i).sub(a.target);var r=e.length();r*=Math.tan(a.object.fov/2*Math.PI/180),M(2*t*r/o.clientHeight,a.object.matrix),S(2*n*r/o.clientHeight,a.object.matrix)}else a.object.isOrthographicCamera?(M(t*(a.object.right-a.object.left)/a.object.zoom/o.clientWidth,a.object.matrix),S(n*(a.object.top-a.object.bottom)/a.object.zoom/o.clientHeight,a.object.matrix)):(console.warn("WARNING: _OrbitControls.js encountered an unknown camera type - pan disabled."),a.enablePan=!1)}}();function N(e){a.object.isPerspectiveCamera?m/=e:a.object.isOrthographicCamera?(a.object.zoom=Math.max(a.minZoom,Math.min(a.maxZoom,a.object.zoom*e)),a.object.updateProjectionMatrix(),p=!0):(console.warn("WARNING: _OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),a.enableZoom=!1)}function I(e){a.object.isPerspectiveCamera?m*=e:a.object.isOrthographicCamera?(a.object.zoom=Math.max(a.minZoom,Math.min(a.maxZoom,a.object.zoom/e)),a.object.updateProjectionMatrix(),p=!0):(console.warn("WARNING: _OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),a.enableZoom=!1)}function A(e){b.set(e.clientX,e.clientY)}function L(e){if(!1!==a.enabled){switch(e.preventDefault(),e.button){case a.mouseButtons.LEFT:if(e.ctrlKey||e.metaKey){if(!1===a.enablePan)return;A(e),c=s.PAN}else{if(!1===a.enableRotate)return;!function(e){g.set(e.clientX,e.clientY)}(e),c=s.ROTATE}break;case a.mouseButtons.MIDDLE:if(!1===a.enableZoom)return;!function(e){x.set(e.clientX,e.clientY)}(e),c=s.DOLLY;break;case a.mouseButtons.RIGHT:if(!1===a.enablePan)return;A(e),c=s.PAN}c!==s.NONE&&(document.addEventListener("mousemove",D,!1),document.addEventListener("mouseup",R,!1),a.dispatchEvent(i))}}function D(e){if(!1!==a.enabled)switch(e.preventDefault(),c){case s.ROTATE:if(!1===a.enableRotate)return;!function(e){f.set(e.clientX,e.clientY),v.subVectors(f,g).multiplyScalar(a.rotateSpeed);var t=a.domElement===document?a.domElement.body:a.domElement;T(2*Math.PI*v.x/t.clientHeight),k(2*Math.PI*v.y/t.clientHeight),g.copy(f),a.update()}(e);break;case s.DOLLY:if(!1===a.enableZoom)return;!function(e){_.set(e.clientX,e.clientY),C.subVectors(_,x),C.y>0?N(O()):C.y<0&&I(O()),x.copy(_),a.update()}(e);break;case s.PAN:if(!1===a.enablePan)return;!function(e){w.set(e.clientX,e.clientY),E.subVectors(w,b).multiplyScalar(a.panSpeed),j(E.x,E.y),b.copy(w),a.update()}(e)}}function R(e){!1!==a.enabled&&(document.removeEventListener("mousemove",D,!1),document.removeEventListener("mouseup",R,!1),a.dispatchEvent(r),c=s.NONE)}function P(e){!1===a.enabled||!1===a.enableZoom||c!==s.NONE&&c!==s.ROTATE||(e.preventDefault(),e.stopPropagation(),a.dispatchEvent(i),function(e){console.log("handleMouseWheel"),e.deltaY<0?I(O()):e.deltaY>0&&N(O()),a.update()}(e),a.dispatchEvent(r))}function B(e){!1!==a.enabled&&!1!==a.enableKeys&&!1!==a.enablePan&&function(e){switch(e.keyCode){case a.keys.UP:j(0,a.keyPanSpeed),a.update();break;case a.keys.BOTTOM:j(0,-a.keyPanSpeed),a.update();break;case a.keys.LEFT:j(a.keyPanSpeed,0),a.update();break;case a.keys.RIGHT:j(-a.keyPanSpeed,0),a.update()}}(e)}function F(e){if(!1!==a.enabled){switch(e.preventDefault(),e.touches.length){case 1:if(!1===a.enableRotate)return;!function(e){g.set(e.touches[0].pageX,e.touches[0].pageY)}(e),c=s.TOUCH_ROTATE;break;case 2:if(!1===a.enableZoom&&!1===a.enablePan)return;!function(e){if(a.enableZoom){var t=e.touches[0].pageX-e.touches[1].pageX,n=e.touches[0].pageY-e.touches[1].pageY,o=Math.sqrt(t*t+n*n);x.set(0,o)}if(a.enablePan){var i=.5*(e.touches[0].pageX+e.touches[1].pageX),r=.5*(e.touches[0].pageY+e.touches[1].pageY);b.set(i,r)}}(e),c=s.TOUCH_DOLLY_PAN;break;default:c=s.NONE}c!==s.NONE&&a.dispatchEvent(i)}}function z(e){if(!1!==a.enabled)switch(e.preventDefault(),e.stopPropagation(),e.touches.length){case 1:if(!1===a.enableRotate)return;if(c!==s.TOUCH_ROTATE)return;!function(e){f.set(e.touches[0].pageX,e.touches[0].pageY),v.subVectors(f,g).multiplyScalar(a.rotateSpeed);var t=a.domElement===document?a.domElement.body:a.domElement;T(2*Math.PI*v.x/t.clientHeight),k(2*Math.PI*v.y/t.clientHeight),g.copy(f),a.update()}(e);break;case 2:if(!1===a.enableZoom&&!1===a.enablePan)return;if(c!==s.TOUCH_DOLLY_PAN)return;!function(e){if(a.enableZoom){var t=e.touches[0].pageX-e.touches[1].pageX,n=e.touches[0].pageY-e.touches[1].pageY,o=Math.sqrt(t*t+n*n);_.set(0,o),C.set(0,Math.pow(_.y/x.y,a.zoomSpeed)),N(C.y),x.copy(_)}if(a.enablePan){var i=.5*(e.touches[0].pageX+e.touches[1].pageX),r=.5*(e.touches[0].pageY+e.touches[1].pageY);w.set(i,r),E.subVectors(w,b).multiplyScalar(a.panSpeed),j(E.x,E.y),b.copy(w)}a.update()}(e);break;default:c=s.NONE}}function H(e){!1!==a.enabled&&(a.dispatchEvent(r),c=s.NONE)}function U(e){!1!==a.enabled&&e.preventDefault()}a.domElement.addEventListener("contextmenu",U,!1),a.domElement.addEventListener("mousedown",L,!1),a.domElement.addEventListener("wheel",P,!1),a.domElement.addEventListener("touchstart",F,!1),a.domElement.addEventListener("touchend",H,!1),a.domElement.addEventListener("touchmove",z,!1),window.addEventListener("keydown",B,!1),this.update()});(b.prototype=Object.create(y.EventDispatcher.prototype)).constructor=b;var w=b;Object.defineProperties(b.prototype,{center:{get:function(){return console.warn("OrbitControls: .center has been renamed to .target"),this.target}},noZoom:{get:function(){return console.warn("OrbitControls: .noZoom has been deprecated. Use .enableZoom instead."),!this.enableZoom},set:function(e){console.warn("OrbitControls: .noZoom has been deprecated. Use .enableZoom instead."),this.enableZoom=!e}},noRotate:{get:function(){return console.warn("OrbitControls: .noRotate has been deprecated. Use .enableRotate instead."),!this.enableRotate},set:function(e){console.warn("OrbitControls: .noRotate has been deprecated. Use .enableRotate instead."),this.enableRotate=!e}},noPan:{get:function(){return console.warn("OrbitControls: .noPan has been deprecated. Use .enablePan instead."),!this.enablePan},set:function(e){console.warn("OrbitControls: .noPan has been deprecated. Use .enablePan instead."),this.enablePan=!e}},noKeys:{get:function(){return console.warn("OrbitControls: .noKeys has been deprecated. Use .enableKeys instead."),!this.enableKeys},set:function(e){console.warn("OrbitControls: .noKeys has been deprecated. Use .enableKeys instead."),this.enableKeys=!e}},staticMoving:{get:function(){return console.warn("OrbitControls: .staticMoving has been deprecated. Use .enableDamping instead."),!this.enableDamping},set:function(e){console.warn("OrbitControls: .staticMoving has been deprecated. Use .enableDamping instead."),this.enableDamping=!e}},dynamicDampingFactor:{get:function(){return console.warn("OrbitControls: .dynamicDampingFactor has been renamed. Use .dampingFactor instead."),this.dampingFactor},set:function(e){console.warn("OrbitControls: .dynamicDampingFactor has been renamed. Use .dampingFactor instead."),this.dampingFactor=e}}});var E,x=n(21),_=n(38),C=(n(26),!1),O=function(e){var t=e.object,n=e.face;C&&console.log("Geographer.getpoint",t);var a=t.geometry.vertices[n.a],o=t.geometry.vertices[n.b],i=t.geometry.vertices[n.c];return{x:(a.x+o.x+i.x)/3,y:(a.y+o.y+i.y)/3,z:(a.z+o.z+i.z)/3}};function T(e,t){var n=e[0]*Math.PI/180,a=e[1]*Math.PI/180,o=Math.cos(a);return new y.Vector3(E*o*Math.cos(n),E*o*Math.sin(n),E*Math.sin(a))}function k(e,t,n){var a=new y.Geometry;return E=n,e.coordinates.forEach(function(e){_.a(e.map(T),function(e,t){a.vertices.push(e,t)})}),new y.LineSegments(a,t)}function M(e){if(void 0===e)throw"getEventCenter::please define a radius";if(void 0!=this){e=e||200;var t=O(this);C&&console.log("Geographer.getEventCenter",t);var n=Math.acos(t.y/e),a=Math.atan2(t.z,t.x);return[(Math.PI/2-n)*(180/Math.PI),(Math.PI-a)*(180/Math.PI)-180]}}var S=function(e){for(var t={},n=0;n<e.length;n++)void 0!==e[n].id&&(t[e[n].id]=e[n]),void 0!==e[n].properties&&void 0!==e[n].properties.name&&(t[e[n].properties.name]=e[n]);return{find:function(e){return t[e]},search:function(t,n){for(var a,o,i=0;i<e.length;i++)if("Polygon"===(a=e[i]).geometry.type){if(j(a.geometry.coordinates[0],[n,t]))return{code:e[i].id,name:e[i].properties.name}}else if("MultiPolygon"===a.geometry.type){o=a.geometry.coordinates;for(var r=0;r<o.length;r++)if(j(o[r][0],[n,t]))return{code:e[i].id,name:e[i].properties.name}}return null}}},j=function(e,t){for(var n,a,o,i,r=t[0],s=t[1],c=!1,l=0,u=e.length-1;l<e.length;u=l++)n=e[l][0],o=e[l][1],a=e[u][0],o>s!==(i=e[u][1])>s&&r<(a-n)*(s-o)/(i-o)+n&&(c=!c);return c},N=n(28),I=new y.ObjectLoader,A=function e(t){var n=this,a=t.radius,i=t.origin,r=void 0===i?new y.Vector3:i,s=t.color;Object(o.a)(this,e),this.earth=new y.Group,this.radius=a,window.BrowserDetect.mobile?this.sphereGeometry=new y.SphereGeometry(a,100,100):this.sphereGeometry=new y.SphereGeometry(a,400,400),this.sphereMaterial=new y.MeshLambertMaterial({color:s,transparent:!1,opacity:1}),this.outlineMaterial=new y.MeshLambertMaterial({color:v.grays.Level_3,transparent:!0,opacity:.2,side:y.BackSide}),this.sphere=new y.Mesh(this.sphereGeometry,this.sphereMaterial),this.sphere.position.set(r.x,r.y,r.z),this.sphere.name="globeSphere",this.outline=new y.Mesh(this.sphereGeometry,this.outlineMaterial),this.outline.position.set(r.x,r.y,r.z),this.outline.name="globeOutline",this.outline.scale.multiplyScalar(1.05),this.earth.position.set(r.x,r.y,r.z),this.earth.name="earth",this.earth.rotateX(-Math.PI/2),this.maps={},this.worldMapTextures={NEAR:null,MID:null,FAR:null,DEFAULT:null},p.a.get("https://".concat(window.location.hostname,"/data/topos_countries.json")).then(R.bind(this)),p.a.get("https://".concat(window.location.hostname,"/data/topos_usa_states.json")).then(R.bind(this)),window.BrowserDetect.mobile?p.a.get("https://".concat(window.location.hostname,"/data/Texture_MOBILE.json")).then(L.bind(this)):Object.keys(this.worldMapTextures).map(function(e){p.a.get("https://".concat(window.location.hostname,"/data/Texture_").concat(e,".json")).then(D.bind(n))})},L=function(e){if(e.data){var t=e.data,n=I.parse(t);for(var a in this.worldMapTextures)this.worldMapTextures[a]=n,this.earth.add(this.worldMapTextures[a]),"DEFAULT"==a&&(n.visible=!0),console.log("key = ",a)}},D=function(e){if(e.data){var t=e.data,n=I.parse(t);this.worldMapTextures[n.name]=n,"DEFAULT"===n.name&&(n.visible=!0),this.earth.add(this.worldMapTextures[n.name])}},R=function(e){if(console.log("loadMap",e),e.data){var t=e.data.data;for(var n in t.objects)if(t.objects.hasOwnProperty(n)&&"type"!==n){0,this.maps[n]={};var a=new y.MeshBasicMaterial({color:v.grays.Level_1,transparent:!0,opacity:.3});this.maps[n].mesh=k(N.b(t,t.objects[n]),a,this.radius+.5),this.earth.add(this.maps[n].mesh),this.maps[n].memo=S(N.a(t,t.objects[n]).features)}}},P=!1,B={},F=!1,z=function(){function e(t){var n=t.radius,a=t.origin,i=void 0===a?new y.Vector3:a;Object(o.a)(this,e),this.radius=n+1,this.lastLocations=[],this.currentLocations=[],this.origin=i,this.group=new y.Group,this.group.name="locations",this.group.position.set(this.origin.x,this.origin.y,this.origin.z),this.group.rotateX(-Math.PI/2),P&&console.log("Location.constructor")}return Object(i.a)(e,[{key:"update",value:function(e){P&&console.log("Location.update",e),e.length&&!F?(P&&console.log("LOADING LOCATIONS FOR THE FIRST TIME!"),this.create(e),F=!0):this.showHide(e)}},{key:"showHide",value:function(e){this.group.children.forEach(function(t){var n=e.find(function(e){return e.id===t.companyId});t.visible=!!n})}},{key:"create",value:function(e){var t=this;e.map(function(e){return t.group.add(t.createLocation(e,e.hq_location)),e.other_locations.map(function(n){return t.group.add(t.createLocation(e,n)),null}),null}),this.setZoomPositions()}},{key:"createLocation",value:function(e,t){if(t.geo_point){t.geo_point.lat=parseInt(t.geo_point.lat),t.geo_point.lng=parseInt(t.geo_point.lng),P&&console.log("Location",t.city,t.geo_point);var n=this.longLatToVect3(t.geo_point),a=new y.MeshBasicMaterial({color:v.verticals[e.industry_vertical],side:y.BackSide,wireframe:!1,transparent:!0,opacity:1}),o=new y.Mesh(U.FAR,a);return o.city=t.city,o.state=t.state,o.country=t.country,o.companyId=e.id,o.name=e.name,o.group=e.group,o.industry_vertical=e.industry_vertical,o.positions={CURRENT:t.geo_point,ORIGINAL:t.geo_point,OTHER:this.longLatToVect3(t.geo_point)},o.position.copy(n),o.lookAt(this.origin.x,-this.origin.y/2,this.origin.z),B[t.geo_point.address]=B[t.geo_point.address]||[],B[t.geo_point.address].push(o),o}}},{key:"setZoomPositions",value:function(){for(var e in P&&console.log("Locations.setZoomPositions",this.group.children.length,B),B)if(B.hasOwnProperty(e)){var t="",n=B[e].length;n<6?t=2:n>=6&&n<13?t=3:n>=13&&(t=4);for(var a=0,o=0,i=0;o<=t;o++,i+=.23)for(var r=0,s=0;r<Math.ceil(n/t);r++,s+=.19)a<n&&(B[e][a].positions.CURRENT.lat+=i,B[e][a].positions.CURRENT.lng-=s,B[e][a].positions.NEAR=this.longLatToVect3(B[e][a].positions.CURRENT)),a++}}},{key:"updateZoom",value:function(e){switch(P&&console.log("Locations.updateZoom",e,this.group.children.length,B),e){case"NEAR":for(var t=0;t<this.group.children.length;t++)this.group.children[t].geometry=U[e],this.group.children[t].positions.TARGET=this.group.children[t].positions.NEAR;break;default:for(var n=0;n<this.group.children.length;n++)this.group.children[n].geometry=U[e],this.group.children[n].positions.TARGET=this.group.children[n].positions.OTHER}!function(e){var t=new y.Clock,n=0,a=0,o=setInterval(function(){var i=t.getElapsedTime(),r=i-n,s=i/2;if((a+=r)<0&&(a=0),r>0&&i<2)for(var c=0;c<e.children.length;c++)e.children[c].position.lerp(e.children[c].positions.TARGET,s);n=i,i<2.2||clearInterval(o)},1)}(this.group),e}},{key:"getNearByCompanies",value:function(e,t,n){var a,o=[],i={},r={city:null,state:null,country:null},s={city:null,state:null,country:null};a=this.group.children,e[1]>64.5&&(t=7.5);for(var c=0;c<a.length;c++){H(e,a[c].positions.ORIGINAL)<t&&void 0===i[a[c].companyId]&&(i[a[c].companyId]=a[c].companyId,o.push(a[c].companyId),r.city=null===s.city||s.city===a[c].city?a[c].city:0,r.state=a[c].state,r.country=a[c].country,s=r)}return P&&console.log("\ngetNearByCompanies",r),{list:o,loc:r}}},{key:"longLatToVect3",value:function(e){var t=e.lat,n=e.lng*Math.PI/180,a=t*Math.PI/180,o=Math.cos(a);return new y.Vector3(this.radius*o*Math.cos(n),this.radius*o*Math.sin(n),this.radius*Math.sin(a))}}]),e}();function H(e,t){var n=t.lat,a=t.lng;return Math.sqrt(Math.pow(n-e[0],2)+Math.pow(a-e[1],2))}var U={NEAR:new y.CircleBufferGeometry(.4,24),MID:new y.CircleBufferGeometry(1,24),FAR:new y.CircleBufferGeometry(1.2,32),DEFAULT:new y.CircleBufferGeometry(1.5,32),DEFAULT_HQ:new y.CircleBufferGeometry(2.4,32)},G=!1,V={fill:"none"},W={fill:"none",stroke:"#fff",strokeWidth:"5px"},q={stroke:"none",fill:"#fff"},Z={position:"absolute"},Y=(new y.MeshBasicMaterial({color:16711680,side:y.DoubleSide,wireframe:!1}),function(e){function t(e){var n;Object(o.a)(this,t),n=Object(r.a)(this,Object(s.a)(t).call(this,e)),G&&console.log("Cursor",e),n.origin=e.origin||new y.Vector3,n.containerID=e.containerID,n.diameter=e.diameter||80;var a=new y.SphereGeometry(10,20,10);n.originObject=new y.Mesh(a),n.originObject.position.set(n.origin.x,n.origin.y,n.origin.z);document.getElementById("containerID");return n.cursorElement=u.a.createRef(),n.state={style:{top:"".concat(n.props.size.height-n.diameter,"px"),left:"".concat(n.props.size.widht-n.diameter,"px"),width:"".concat(n.diameter,"px"),height:"".concat(n.diameter,"px"),position:"absolute"}},window.addEventListener("resize",n.centerOnOrgin.bind(Object(f.a)(n)),!1),n}return Object(c.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){setTimeout(this.centerOnOrgin.bind(this),300)}},{key:"centerOnOrgin",value:function(){var e=this.toScreenPosition();if(e){this.props.hoist.position={x:e.x,y:e.y+this.diameter/2},this.props.hoist.edge={x:e.x+this.diameter/2,y:e.y+this.diameter/2};var t={top:"".concat(e.y-this.diameter/2,"px"),left:"".concat(e.x-this.diameter/2,"px"),width:"".concat(this.diameter,"px"),height:"".concat(this.diameter,"px"),position:"absolute",pointerEvents:"none"};this.setState({style:t})}}},{key:"toScreenPosition",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.originObject,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.props.camera;if(t){var n=new y.Vector3,a=.5*this.props.size.width,o=.5*this.props.size.height;return e.updateMatrixWorld(),n.setFromMatrixPosition(e.matrixWorld),n.project(t),n.x=n.x*a+a,n.y=-n.y*o+o,{x:n.x,y:n.y}}}},{key:"render",value:function(){return u.a.createElement("div",{className:"circle",id:"cursor",ref:this.cursorElement,style:this.state.style},u.a.createElement("svg",{xmlns:"https://www.w3.org/2000/svg",viewBox:"0 0 150 150",style:Z},u.a.createElement("g",{id:"Group_7902","data-name":"Group 7902",transform:"translate(-949 -1145)"},u.a.createElement("g",{id:"Path_774","data-name":"Path 774",className:"cls-1",transform:"translate(949 1145)",style:V},u.a.createElement("path",{className:"cls-4",d:"M 75 12 C 40.26168823242188 12 12 40.26168823242188 12 75 C 12 109.7383117675781 40.26168823242188 138 75 138 C 109.7383117675781 138 138 109.7383117675781 138 75 C 138 40.26168823242188 109.7383117675781 12 75 12 M 75 0 C 116.4213409423828 0 150 33.57865905761719 150 75 C 150 116.4213409423828 116.4213409423828 150 75 150 C 33.57865905761719 150 0 116.4213409423828 0 75 C 0 33.57865905761719 33.57865905761719 0 75 0 Z",style:q})),u.a.createElement("g",{id:"Group_7898","data-name":"Group 7898",transform:"translate(443 210)",style:V},u.a.createElement("line",{id:"Line_4","data-name":"Line 4",className:"cls-2",x1:"50",transform:"translate(556.5 1010.6)",style:W}),u.a.createElement("line",{id:"Line_1404","data-name":"Line 1404",className:"cls-2",x1:"50",transform:"translate(581.5 985.6) rotate(90)",style:W})))))}}]),t}(u.a.Component)),X=(n(62),function(e){var t=function(t){t.preventDefault(),"plus"===t.currentTarget.className?e.onChange(-1):e.onChange(1)},n={width:"".concat(e.zoomLevel,"%")};return u.a.createElement("div",{id:"zoom-bar"},u.a.createElement("div",{className:"bar",style:n}),u.a.createElement("button",{className:"plus",onClick:t.bind(void 0)},"+"),u.a.createElement("button",{className:"minus",onClick:t.bind(void 0)},"-"))}),K=n(27),Q=n.n(K),J=(n(78),!1),$=228,ee=new y.SphereGeometry(3),te=new y.MeshBasicMaterial({color:16711680}),ne=new y.Mesh(ee,te),ae=new y.Mesh(ee,te),oe=new y.Vector3(0,0,0),ie=new y.Raycaster,re=0,se=0,ce=.11,le=.4,ue=.55,he={NEAR:!0,MID:!0,FAR:!0,DEFAULT:!0},me=function(e,t){for(var n in t)t.hasOwnProperty(n)&&(t[n].visible=!1);t[e].visible=!0},de=function(e){for(var t in he)he.hasOwnProperty(t)&&(he[t]=!0);he[e]=!1},pe=function(e,t){for(var n=1,a=0;a<t;a++)n*=10;if("number"===typeof e)return Math.round(e*n)/n;if(e instanceof Array){for(var o=[],i=0;i<e.length;i++)o[i]=Math.round(e[i]*n)/n;return o}},ge=function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(r.a)(this,Object(s.a)(t).call(this,e))).sceneSetup=function(){J&&console.log("Globe.sceneSetup");var e=n.mount.clientWidth,t=n.mount.clientHeight;n.scene=new y.Scene,n.camera=new y.PerspectiveCamera(45,e/t,.1,2e4),n.camera.position.z=600,n.renderer=new y.WebGLRenderer({antialias:!0,alpha:!0}),n.renderer.setClearColor(new y.Color(v.general.Dark_Blue),1),n.renderer.setSize(e,t),n.renderer.domElement.addEventListener("dblclick",n.clickToRotate.bind(Object(f.a)(n))),n.renderer.domElement.addEventListener("touchstart",n.touchToRotate.bind(Object(f.a)(n))),n.mount.appendChild(n.renderer.domElement),n.controls=new w(n.camera,n.renderer.domElement),n.controls.enablePan=!1,n.controls.minDistance=1.2*$,n.controls.maxDistance=3.6*$,n.controls.addEventListener("end",n.touchEnd.bind(Object(f.a)(n))),n.controls.addEventListener("change",n.controlsChange.bind(Object(f.a)(n)))},n.addCustomSceneObjects=function(){J&&console.log("Globe.addCustomSceneObjects"),n.scene.add(new y.AmbientLight(16777215)),n.earth=new A({radius:$,origin:oe,color:v.general.Dark_Blue}),n.scene.add(n.earth.outline),n.scene.add(n.earth.sphere),n.scene.add(n.earth.earth),J&&(n.earth.earth.add(ne),n.earth.earth.add(ae)),n.scene.add(n.locations.group)},n.startAnimationLoop=function(){n.renderer.render(n.scene,n.camera),x.a.update(),n.controls.update(),n.lastActiveState=n.props.active,n.requestID=window.requestAnimationFrame(n.startAnimationLoop)},n.stopAnimationLoop=function(){window.cancelAnimationFrame(n.requestID),n.lastActiveState=n.props.active},n.handleWindowResize=function(){var e=n.mount.clientWidth,t=n.mount.clientHeight;n.renderer.setSize(e,t),n.camera.aspect=e/t,n.camera.updateProjectionMatrix(),n.setState({size:{width:e,height:t}})},n.locations=new z({radius:$,origin:oe}),n.cursor={},n.state={size:{},zoom:80},n.lastActiveState=!0,n.shouldRecalculate=!0,n.lastEventTimestamp=null,n.firstLoad=!0,n.globeWasTapped=null,n.isCamTweening=!1,n.camTweenDuration=300,n.postCamTweenDelay=300,n.center=new y.Vector3(0,0,0),n}return Object(c.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.sceneSetup(),this.addCustomSceneObjects(),this.startAnimationLoop(),window.addEventListener("resize",this.handleWindowResize),this.handleWindowResize(),this.firstLoad=!1,this.thread=Q.a.spawn(function(e,t){J&&console.log("webworker!",y);var n=new y.Raycaster;function a(t){var a={x:(t.x-1)/e.clientWidth*2-1,y:-(t.y-1)/e.clientHeight*2+1};return n.setFromCamera(a,e.camera),n.intersectObject(e.object)}t({a:a(e.a),b:a(e.b)})})}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.handleWindowResize),window.cancelAnimationFrame(this.requestID),this.controls.dispose()}},{key:"shouldComponentUpdate",value:function(){return!0}},{key:"touchEnd",value:function(e){if(!this.isCamTweening){var t=e.target.getState();-1===t||3===t?(J&&console.log("Globe.touchend:zooming",e),window.clearTimeout(this.lastZoomTimeout),this.lastZoomTimeout=window.setTimeout(this.offloadWork.bind(this),500)):0!==t&&4!==t||this.offloadWork()}}},{key:"clickToRotate",value:function(e){var t=this.getIntersectionWithEarth(e);if(t[0]){var n=t[0],a=(n.point,this.camera.position.length()),o=new y.Vector3;o.copy(n.point).normalize().multiplyScalar(a),this.tweenCamera(o)}}},{key:"touchToRotate",value:function(e){var t=this,n={x:e.touches[0].clientX,y:e.touches[0].clientY};this.globeWasTapped?(J&&console.log("double-touch detected"),clearTimeout(this.globeWasTapped),this.globeWasTapped=null,this.clickToRotate(n)):(J&&console.log("single-touch detected"),this.globeWasTapped=setTimeout(function(){t.globeWasTapped=null},300))}},{key:"tweenCamera",value:function(e){this.isCamTweening=!0,x.a.removeAll();new x.a.Tween(this.camera.position).to(e,this.camTweenDuration).easing(x.a.Easing.Quadratic.InOut).start().onComplete(function(){setTimeout(function(){this.isCamTweening=!1,this.offloadWork()}.bind(this),this.postCamTweenDelay)}.bind(this))}},{key:"controlsChange",value:function(e){if(!this.isCamTweening){var t=e.target.getState();-1!==t&&4!==t||(J&&console.log("Globe.controlsChange",e),this.onZoom(e))}}},{key:"onZoom",value:function(e){window.BrowserDetect.mobile||this.setState({zoom:100-pe(100*this.controls.getZoomPercent(),3)});var t=pe(e.target.getZoomPercent(),2)?pe(e.target.getZoomPercent(),2):.01;t>se?re=-1:t<se&&(re=1),this.earth.maps.countries.mesh.material.opacity=.3*Math.pow(t,.2)+.11,this.earth.maps.usa_states.mesh.material.opacity=.3*Math.pow(1-t,.2)+.1,J&&console.log("\tonZoom",t,re,this.camera.zoom),t<ce&&he.NEAR?(J&&console.log("\n\tNEAR\n",t<ce,he.NEAR),this.locations.updateZoom("NEAR"),this.controls.rotateSpeed=.15,me("NEAR",this.earth.worldMapTextures),de("NEAR"),console.log("ONLy ONCE")):t>ce&&t<le&&he.MID?(J&&console.log("\n\tMID\n",t>ce,t<le,he.MID),this.locations.updateZoom("MID"),this.controls.rotateSpeed=.5,me("MID",this.earth.worldMapTextures),de("MID")):t>le&&t<ue&&he.FAR?(J&&console.log("\n\tFAR\n",t>le,t<ue,he.FAR),this.locations.updateZoom("FAR"),this.controls.rotateSpeed=.8,me("FAR",this.earth.worldMapTextures),de("FAR")):t>ue&&he.DEFAULT&&(J&&console.log("\n\tDEFAULT\n",t>ue,he.DEFAULT),this.controls.rotateSpeed=1,this.locations.updateZoom("DEFAULT"),me("DEFAULT",this.earth.worldMapTextures),de("DEFAULT")),se=t}},{key:"offloadWork",value:function(){window.Worker;var e=this.getIntersectionWithEarth(this.cursor.position),t=this.getIntersectionWithEarth(this.cursor.edge);this.getTargetLatLong(e,t),this.lastEventTimestamp=(new Date).getTime()}},{key:"getIntersectionWithEarth",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.camera,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.earth.sphere,a={x:(e.x-1)/this.mount.clientWidth*2-1,y:-(e.y-1)/this.mount.clientHeight*2+1};return ie.setFromCamera(a,t),ie.intersectObject(n)}},{key:"getTargetLatLong",value:function(e,t){var n=M.call(e[0],$),a=M.call(t[0],$);if(J){var o=T([n[1],n[0]]);ne.position.set(o.x,o.y,o.z);var i=T([a[1],a[0]]);ae.position.set(i.x,i.y,i.z)}var r=Math.abs(n[1]-a[1]);if(this.earth.maps.countries){var s=this.locations.getNearByCompanies(n,r),c="No Companies found";s.loc.city?c="Companies in ".concat(s.loc.city,", ").concat(s.loc.state?s.loc.state+" ":"").concat(s.loc.country):s.loc.country&&(c="Companies near ".concat(s.loc.state?s.loc.state+", ":"").concat(s.loc.country)),J&&console.log("Globe.you landed in ",s.loc.country,s.loc.state,"\n and this comapnies are near by",s.list),this.props.updateByIDs(s.list,c)}}},{key:"zoomUpdate",value:function(e){window.BrowserDetect.mobile||this.setState({zoom:100-pe(100*this.controls.zoomBar(e),3)})}},{key:"render",value:function(){var e=this;return J&&console.log("Globe. Render"),this.props.active||this.props.active===this.lastActiveState?this.props.active&&this.props.active!==this.lastActiveState&&this.startAnimationLoop():this.stopAnimationLoop(),this.locations.update(this.props.companies),u.a.createElement("div",{id:"globe",ref:function(t){return e.mount=t},className:this.props.className},u.a.createElement(Y,{size:this.state.size,camera:this.camera,containerID:"globe",hoist:this.cursor}),window.BrowserDetect.mobile?null:u.a.createElement(X,{zoomLevel:this.state.zoom,onChange:this.zoomUpdate.bind(this)}))}}]),t}(l.Component),fe=n(14),ye=n(19),ve=n(4),be=n(20),we=n(18),Ee=n.n(we),xe=(n(81),function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(r.a)(this,Object(s.a)(t).call(this,e))).computeTranslate=function(e){var t=e.options,a=e.value,o=e.itemHeight,i=e.columnHeight,r=t.indexOf(a);return r<0&&(console.warn('Warning: "'+n.props.name+'" doesn\'t contain an option of "'+a+'".'),n.onValueSelected(t[0]),r=0),{scrollerTranslate:i/2-o/2-r*o,minTranslate:i/2-o*t.length+o/2,maxTranslate:i/2-o/2}},n.onValueSelected=function(e){n.props.onChange(n.props.name,e)},n.handleTouchStart=function(e){var t=e.targetTouches[0].pageY;n.setState(function(e){var n=e.scrollerTranslate;return{startTouchY:t,startScrollerTranslate:n}})},n.handleTouchMove=function(e){e.preventDefault(),e.stopPropagation();var t=e.targetTouches[0].pageY;n.setState(function(e){var n=e.isMoving,a=e.startTouchY,o=e.startScrollerTranslate,i=e.minTranslate,r=e.maxTranslate;if(!n)return{isMoving:!0};var s=o+t-a;return s<i?s=i-Math.pow(i-s,.8):s>r&&(s=r+Math.pow(s-r,.8)),{scrollerTranslate:s}})},n.handleTouchEnd=function(e){n.state.isMoving&&(n.setState({isMoving:!1,startTouchY:0,startScrollerTranslate:0}),setTimeout(function(){var e,t=n.props,a=t.options,o=t.itemHeight,i=n.state,r=i.scrollerTranslate,s=i.minTranslate,c=i.maxTranslate;e=r>c?0:r<s?a.length-1:-Math.floor((r-c)/o),n.onValueSelected(a[e])},0))},n.handleTouchCancel=function(e){n.state.isMoving&&n.setState(function(e){return{isMoving:!1,startTouchY:0,startScrollerTranslate:0,scrollerTranslate:e}})},n.handleItemClick=function(e){e!==n.props.value?n.onValueSelected(e):n.props.onClick(n.props.name,n.props.value)},n.state=Object(ye.a)({isMoving:!1,startTouchY:0,startScrollerTranslate:0},n.computeTranslate(e)),n}return Object(c.a)(t,e),Object(i.a)(t,[{key:"componentWillReceiveProps",value:function(e){this.state.isMoving||this.setState(this.computeTranslate(e))}},{key:"renderItems",value:function(){var e=this,t=this.props,n=t.options,a=t.itemHeight,o=t.value;return n.map(function(t,n){var i={height:a+"px",lineHeight:a+"px"},r="picker-item".concat(t===o?" picker-item-selected":"");return u.a.createElement("div",{key:n,className:"".concat(r," ").concat(t.toLowerCase().replace(/ /g,"-").replace(/,/g,"").replace(/&/g,"n")),style:i,onClick:function(){return e.handleItemClick(t)}},t)})}},{key:"render",value:function(){var e="translate3d(0, ".concat(this.state.scrollerTranslate,"px, 0)"),t={MsTransform:e,MozTransform:e,OTransform:e,WebkitTransform:e,transform:e};return this.state.isMoving&&(t.transitionDuration="0ms"),u.a.createElement("div",{className:"picker-column"},u.a.createElement("div",{className:"picker-scroller",style:t,onTouchStart:this.handleTouchStart,onTouchMove:this.handleTouchMove,onTouchEnd:this.handleTouchEnd,onTouchCancel:this.handleTouchCancel},this.renderItems()))}}]),t}(l.Component)),_e=function(e){function t(){return Object(o.a)(this,t),Object(r.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(c.a)(t,e),Object(i.a)(t,[{key:"renderInner",value:function(){var e=this.props,t=e.optionGroups,n=e.valueGroups,a=e.itemHeight,o=e.height,i=e.onChange,r=e.onClick,s={height:a,marginTop:-a/2},c=[];for(var l in t)c.push(u.a.createElement(xe,{key:l,name:l,options:t[l],value:n[l],itemHeight:a,columnHeight:o,onChange:i,onClick:r}));return u.a.createElement("div",{className:"picker-inner"},c,u.a.createElement("div",{className:"picker-highlight",style:s}))}},{key:"render",value:function(){var e={height:this.props.height};return u.a.createElement("div",{className:"picker-container",style:e},this.renderInner())}}]),t}(l.Component);_e.propTyps={optionGroups:Ee.a.object.isRequired,valueGroups:Ee.a.object.isRequired,onChange:Ee.a.func.isRequired,onClick:Ee.a.func,itemHeight:Ee.a.number,height:Ee.a.number},_e.defaultProps={onClick:function(){},itemHeight:36,height:216};n(82);var Ce=function(e){e.companies;var t=Object(be.a)(e,["companies"]),n=Object(l.useState)({group:"All",vertical:"All"}),a=Object(ve.a)(n,2),o=a[0],i=a[1],r=Object(l.useState)({group:["All","Former","Current"],vertical:t.industryVerticals}),s=Object(ve.a)(r,2),c=s[0],h=(s[1],function(e){var n=e.target.value;console.log("Active Industry Vertical: ",n),t.updateByVertical(n)}),m=(u.a.createElement("select",{className:"vertical",onChange:h},t.industryVerticals.map(function(e,t){return u.a.createElement("option",{key:t,value:e,onChange:h},e)})),u.a.createElement("select",{className:"group",onChange:function(e){var n=e.target.value;console.log("Active Group: ",n),t.updateByGroup(n)}},u.a.createElement("option",{key:"0",value:"All"},"All"),u.a.createElement("option",{key:"1",value:"Former"},"Former"),u.a.createElement("option",{key:"2",value:"Current"},"Current")),Object(l.useRef)());return u.a.createElement("div",{id:"filter",className:t.className},u.a.createElement("div",{id:"filter-expand",className:"expand-btn",onClick:function(e){var t=e.currentTarget.parentElement.children["filter-expand"],n=e.currentTarget.parentElement.children[1];t.classList.toggle("active"),n.classList.toggle("mobile-open")},ref:m},u.a.createElement("svg",{xmlns:"https://www.w3.org/2000/svg",viewBox:"0 0 38 42"},u.a.createElement("g",null,u.a.createElement("g",null,u.a.createElement("polygon",{points:"19 0 0 0 0 4 13 21 19 21 25 21 38 4 38 0 19 0"}),u.a.createElement("polygon",{points:"19 23 13 23 13 36 25 42 25 23 19 23"})))),"Filter"),u.a.createElement(_e,{optionGroups:c,valueGroups:o,onChange:function(e,n){i(Object(ye.a)({},o,Object(fe.a)({},e,n))),"vertical"===e?t.updateByVertical(n):"group"===e&&t.updateByGroup(n)},height:150,itemHeight:20}))},Oe=n(10),Te=(n(83),function(e){var t={transform:"translateY(-0.5em)"},n="United States"===e.loc.country?"USA":e.loc.country,a="".concat(e.loc.city,", ").concat(e.loc.state?e.loc.state+",":""," ").concat(n),o=e.loc.city.length>9?6:e.radius;return o=n.length>9?6:o,u.a.createElement("svg",{x:e.pos.x,y:e.pos.y,className:" hq_location",onClick:e.triggerTrainingMode},u.a.createElement("circle",{className:"node",cx:"0",cy:"0",r:"".concat(o,"em")}),u.a.createElement(function(e){var o=e.city,i=(e.country,e.state);return a.length<12?u.a.createElement("g",null,u.a.createElement("text",{className:"title",x:"0",y:"0",textAnchor:"middle"},a),u.a.createElement("text",{className:"sub-title",x:"0",y:"0",dy:"1em",textAnchor:"middle"},"headquarters")):u.a.createElement("g",null,u.a.createElement("text",{className:"title",x:"0",y:"0",style:t,textAnchor:"middle"},u.a.createElement("tspan",{x:"0",y:"0",dy:"0"},o,","),u.a.createElement("tspan",{x:"0",y:"0",dy:"1em"},i?i+", ":"",n)),u.a.createElement("text",{className:"sub-title",x:"0",y:"0",dy:"2.2em",textAnchor:"middle"},"headquarters"))},{city:e.loc.city,country:e.loc.country,state:e.loc.state}))}),ke=function(e){return u.a.createElement("svg",{x:e.pos.x,y:e.pos.y,className:" date_aquired",onClick:e.triggerTrainingMode},u.a.createElement("circle",{className:"node",cx:"0",cy:"0",r:"".concat(e.radius,"em")}),u.a.createElement("text",{className:"title",x:"0",y:"0.25em",textAnchor:"middle"},e.year.split("/")[2]))},Me=function(e){return e.year?u.a.createElement("svg",{x:e.pos.x,y:e.pos.y,className:" date_exited",onClick:e.triggerTrainingMode},u.a.createElement("circle",{className:"node ",cx:"0",cy:"0",r:"".concat(e.radius,"em")}),u.a.createElement("text",{className:"title",x:"0",y:"0.25em",textAnchor:"middle"},e.year.split("/")[2])):null},Se=function(e){var t=Object(l.useRef)(),n=Object(l.useState)(0),a=Object(ve.a)(n,2),o=a[0],i=a[1];return Object(l.useEffect)(function(){i(t.current.getBoundingClientRect().width/2)},[]),u.a.createElement("svg",{x:e.pos.x,y:e.pos.y,className:" logo",onClick:e.triggerTrainingMode},u.a.createElement("mask",{id:"myMask"},u.a.createElement("rect",{x:"".concat(2*-e.radius,"em"),y:"".concat(1.08*-e.radius,"em"),width:"".concat(4*e.radius,"em"),height:"".concat(1.1*e.radius,"em"),fill:"white"})),u.a.createElement("circle",{className:"node ",cx:"0",cy:"1",r:"".concat(e.radius,"em"),mask:"url(#myMask)"}),u.a.createElement("image",{x:-o,y:"0.6em",href:e.src,height:"".concat(e.radius,"em"),width:"".concat(3*e.radius,"em"),ref:t}))},je=function(e){var t=e.end?new Date(e.end.split("/")[2],e.end.split("/")[0]-1,e.end.split("/")[1]):new Date,n=new Date(e.begining.split("/")[2],e.begining.split("/")[0]-1,e.begining.split("/")[1]),a=Math.floor(t.getTime()-n.getTime()),o=Math.floor(a/864e5),i=Math.floor(o/31),r=Math.floor(o/365),s="",c="";return r>0?(s="Years",c=r):0===r&&(s="Months",c=i),u.a.createElement("svg",{x:e.pos.x,y:e.pos.y,className:" years_of_investment",onClick:e.triggerTrainingMode},u.a.createElement("circle",{className:"node",cx:"0",cy:"0",r:"".concat(e.radius,"em")}),u.a.createElement("text",{className:"title large",x:"0",y:"0",dy:"0em",textAnchor:"middle"},c,"+"),u.a.createElement("text",{className:"sub-title",x:"0",y:"0",dy:"0em",textAnchor:"middle"},u.a.createElement("tspan",{x:"0",y:"0",dy:"1.8em"},s," of"),u.a.createElement("tspan",{x:"0",y:"0",dy:"2.8em"},"investment")))},Ne="";function Ie(e,t){switch(e){case 0:"event 0";for(var n=[],a=0;a<t.length;a++)n[a]=t[a].name;window.dataLayer.push({"Location Selection":n});break;case 1:Ne=t,window.dataLayer.push({"Company page selection":t});break;case 2:t="".concat(Ne,">").concat(t),window.dataLayer.push({"Add on companies":t});break;case 3:t="".concat(Ne,">").concat(t),window.dataLayer.push({"Other locations":t})}console.log("------------------------------------------------------------"),console.log("event : ",e,t)}var Ae=function(e){return u.a.createElement("g",{className:"location-item-".concat(e.index+1),key:e.index,style:{transform:"translate(0px, ".concat(1.8+1.5*e.index,"em)")}},u.a.createElement("use",{href:"#myDot",x:"0",y:"-0.4em",width:"0.2em",height:"0.2em"}),u.a.createElement("text",{className:"item",x:"0.5em",y:0,textAnchor:"left"},u.a.createElement("tspan",null,e.location.city),e.location.state?",":""," ",u.a.createElement("tspan",null,e.location.state)))},Le=function(e){for(var t=0,n=0;n<=e.index;n++)t+=e.region[n-1]?1.5*e.region[n-1].length:1.5,t+=2;return u.a.createElement("g",{className:"location-country-".concat(e.index+1),key:e.index,style:{transform:"translate(0px, ".concat(t,"em)")}},u.a.createElement("line",{className:"line-country",x1:"0",y1:"0.2em",x2:"100%",y2:"0.2em"}),u.a.createElement("text",{className:"item",textAnchor:"left",x:0,y:"0em"},u.a.createElement("tspan",null,e.country[0].country,":")),e.children)},De=function(e){var t=e.fontSize,n=e.width,a=e.dir,o=e.display,i=e.y,r=Object(be.a)(e,["fontSize","width","dir","display","y"]),s=.5*t,c="M 0 ".concat(.5*s," L ").concat(s/4," 0 L ").concat(s/2," ").concat(.5*s),l="M 0 0 L ".concat(s/4," ").concat(.5*s," L ").concat(s/2," 0");return u.a.createElement("g",{className:"scroll-btn",style:{transform:"translate(0,".concat(i-t,"px)"),display:o?"block":"none"}},u.a.createElement("rect",{className:"scroll-btn-bg",x:"0",y:"0",width:n,height:1.2*t,fill:"url(#Gradient2)",onClick:function(e){r.onClick()}}),u.a.createElement("path",{d:a?c:l,style:{transform:" translate(".concat(0,"px,",s/2,"px) ")}}),u.a.createElement("path",{d:a?c:l,style:{transform:" translate(".concat(0,"px,",s/2+.5*t*.6,"px)")}}))},Re=function(e){var t=e.gutter,n=Object(l.useRef)(),a=Object(l.useState)(function(){return{scrollable:!1,fontSize:24,height:e.maxHeight}}),o=Object(ve.a)(a,2),i=o[0],r=o[1],s=Object(l.useState)(function(){return{top:0,dir:0}}),c=Object(ve.a)(s,2),h=c[0],m=c[1],d=Object(l.useState)(function(){return 0}),p=Object(ve.a)(d,2),g=p[0],f=p[1],y=Object(l.useState)(function(){return 0}),v=Object(ve.a)(y,2),b=v[0],w=v[1],E=function(t){var a=n.current.children.column.getBBox().height,o=i.fontSize*e.btnSize*1.7*1.55,r=e.maxHeight-o;b+t<=0?Math.abs(b+t)<a-r?m({dir:Math.abs(b+t)>.9*(a-r)?1:0,top:b+t}):m({dir:1,top:-1*(a-r)}):m({dir:0,top:0})};return Object(l.useEffect)(function(){var t=n.current.children.column.getBBox().height;return r({scrollable:t>e.maxHeight,fontSize:parseInt(getComputedStyle(n.current).fontSize),height:t}),function(){}},[e.maxHeight]),u.a.createElement("svg",{className:"location-region-".concat(e.index+1),height:e.maxHeight,width:e.colW*t,onTouchMove:i.scrollable?function(e){E(e.touches[0].clientY-g)}:null,onTouchStart:i.scrollable?function(e){f(e.touches[0].clientY),w(h.top)}:null,onWheel:i.scrollable?function(e){return e.preventDefault(),e.stopPropagation(),E(e.deltaY>0?-4:4),w(h.top),!1}:null,y:"7em",ref:n,x:e.colW*e.index},u.a.createElement("g",{id:"column",className:"scrollable-column",style:{transform:"translate(0, ".concat(h.top,"px)")}},u.a.createElement("rect",{className:"scroll-bg",width:"100%",height:i.height,x:"0",y:"".concat(2.635,"em")}),e.children),u.a.createElement("rect",{className:"scroll-bg",width:e.colW*t,height:"".concat(1.7,"em"),x:"0",y:"0"}),u.a.createElement("text",{className:"title",textAnchor:"left",x:0,y:"1em"},u.a.createElement("tspan",null," ",e.region[0][0].region)),u.a.createElement("line",{className:"line-region",x1:"0",y1:"".concat(1.7,"em"),x2:"100%",y2:"".concat(1.7,"em")}),u.a.createElement(De,{fontSize:i.fontSize*e.btnSize,width:e.colW*t,dir:h.dir,onClick:function(t){var n=i.fontSize*e.btnSize*1.7*1.55;n=h.dir?1e4:-n,w(h.top),E(n)},display:i.scrollable,y:e.maxHeight}))},Pe=function(e){var t=[];return e.forEach(function(e){t.find(function(t){return e.region===t})||t.push(e.region)}),t.map(function(t,n){return e.filter(function(e){return e.region===t})}).map(function(e,t){var n=[];e.forEach(function(e){n.find(function(t){return e.country===t})||n.push(e.country)});var a=[];return n.forEach(function(t){a.push(e.filter(function(e){return e.country===t}))}),a})},Be=function(e){var t=Object(l.useRef)(),n=[],a=.1*window.innerWidth,o=Object(l.useState)(function(){return 0}),i=Object(ve.a)(o,2),r=i[0],s=i[1],c=Object(l.useState)(function(){return 0}),h=Object(ve.a)(c,2),m=h[0],d=h[1],p=Object(l.useState)(function(){return 0}),g=Object(ve.a)(p,2),f=g[0],y=g[1],v=Object(l.useState)(function(){return{colWidth:0,maxHeight:200,offsetX:0,groupPadding:0,fontSize:20,actualPadding:20}}),b=Object(ve.a)(v,2),w=b[0],E=b[1],x=function(){if(void 0!==t.current){var o=t.current.children.clickable.getBoundingClientRect(),i=o.x,r=o.y,s=o.width,c=parseInt(getComputedStyle(t.current).fontSize),l=window.innerWidth-a>1100?1100:window.innerWidth-a,u=l/n.length>220?220:l/n.length,h=u<100?100:u,m=.7*(window.innerHeight-(r+e.radius)),d=i+s/2,p=(window.innerWidth-(w.colWidth*n.length-w.colWidth*(1-.9)))/2;E({colWidth:h,maxHeight:m,offsetX:d,fontSize:c,actualPadding:p=p<20?20:p})}};Object(l.useEffect)(function(){x()},[]);var _=function(e){var n=t.current.children["location-list"].children["lateral-scroll-window"].getBoundingClientRect().width,a=window.innerWidth-2*w.actualPadding;f+e<4&&Math.abs(f+e)<n-a&&s(f+e)};return e.list.length?(n=Pe(e.list),u.a.createElement("svg",{x:e.pos.x,y:e.pos.y,id:"other_locations",className:"other_locations rc",onClick:function(t){if(t.target.parentElement.classList.contains("rc")){var n=t.currentTarget.parentElement;t.currentTarget.parentElement.parentElement.insertBefore(n,n.children[n.children.length-1].nextSibling),n.children.other_locations.children.shadow.classList.toggle("shadow"),n.children.other_locations.classList.toggle("active"),e.toggleDetail("OtherLocations"),x(),n.children.other_locations.classList.contains("active")&&Ie(3,"Other locations"),setTimeout(function(){n.children.other_locations.children["location-list"].classList.toggle("detail-show"),n.children.other_locations.children["location-list"].classList.toggle("detail-out")},10)}}.bind(void 0),ref:t},u.a.createElement("symbol",{id:"myDot",viewBox:"0 0 2 2"},u.a.createElement("circle",{cx:"1",cy:"1",r:"1"})),u.a.createElement("defs",null,u.a.createElement("linearGradient",{id:"Gradient2",x1:"0",x2:"0",y1:"0",y2:"1"},u.a.createElement("stop",{offset:"0%",stopColor:"red"}),u.a.createElement("stop",{offset:"10%",stopColor:"black",stopOpacity:"0"}))),u.a.createElement("g",{id:"location-list",className:"location-list detail-out",style:{transform:"translate(".concat(-w.offsetX,"px, 0)")}},u.a.createElement("rect",{className:"bg",x:"-100%",y:"-100%",width:"400%",height:"400%"}),u.a.createElement("svg",{x:w.actualPadding,y:"0",id:"lateral-scroll-window",className:"lateral-scroll-window",width:window.innerWidth-2*w.actualPadding,height:"100%",style:{overflow:"scroll"},onMouseDown:function(e){e.preventDefault(),e.stopPropagation(),d(e.clientX),y(r)},onMouseMove:function(e){e.preventDefault(),e.stopPropagation(),e.buttons&&_(e.clientX-m)},onTouchStart:function(e){e.preventDefault(),e.stopPropagation(),d(e.touches[0].clientX),y(r)},onTouchMove:function(e){e.preventDefault(),e.stopPropagation(),_(e.touches[0].clientX-m)}},u.a.createElement("rect",{className:"bg",x:"0",y:"0",width:"100%",height:"100%"}),u.a.createElement("g",{id:"lateral-scroll-grop",style:{transform:"translate(".concat(r,"px, 0)")}},n.map(function(e,t){return u.a.createElement(Re,{key:t,region:e,index:t,maxHeight:w.maxHeight,btnSize:2,colW:w.colWidth,total:n.length,actualPadding:w.actualPadding,gutter:.9},e.map(function(t,n){return u.a.createElement(Le,{country:t,region:e,index:n,key:n},t.map(function(e,t){return u.a.createElement(Ae,{location:e,key:t,index:t})}))}))})))),u.a.createElement("circle",{id:"shadow",className:"node shadow rc",cx:"0",cy:"0",r:"".concat(e.radius,"em")}),u.a.createElement("circle",{id:"clickable",className:"node clickable rc",cx:"0",cy:"0",r:"".concat(e.radius,"em")}),u.a.createElement("text",{className:"title large rc",x:"0",dy:"0",textAnchor:"middle"},e.list.length),u.a.createElement("text",{className:"sub-title rc",x:"0",y:"0",textAnchor:"middle"},u.a.createElement("tspan",{x:"0",y:"0",dy:"1.8em"},"Other"),u.a.createElement("tspan",{x:"0",y:"0",dy:"2.8em"},"Locations")))):null},Fe=function(e){var t=Object(l.useState)(function(){return 20}),n=Object(ve.a)(t,2),a=n[0],o=n[1],i=Object(l.useState)(function(){return{x:1,y:0}}),r=Object(ve.a)(i,2),s=r[0],c=r[1];return e.list.length?u.a.createElement("svg",{x:e.pos.x,y:e.pos.y,id:"addOnCompanies",className:"addOnCompanies",onClick:function(t){var n=t.currentTarget.parentElement,a=t.currentTarget.parentElement.parentElement,i=a.insertBefore(n,n.children[n.children.length-1].nextSibling);n.children.addOnCompanies.children.shadow.classList.toggle("shadow");var r=n.children.addOnCompanies.children["companies-list"],s=r.children[r.children.length-1].getBoundingClientRect();s.height,s.width,s.x,s.y,n.children.addOnCompanies.classList.toggle("active"),n.children.addOnCompanies.classList.contains("active")&&Ie(2,"AddonComapnies"),e.list.find(function(e){return e.name.length>40})&&e.toggleDetail("AddOnCompanies"),o(parseInt(getComputedStyle(i).fontSize)),c({x:window.innerWidth<450?0:1,y:window.innerHeight<680?0:1}),setTimeout(function(){i.children.addOnCompanies.children["companies-list"].classList.toggle("detail-show"),i.children.addOnCompanies.children["companies-list"].classList.toggle("detail-out")},10)}.bind(void 0)},u.a.createElement("style",null,function(){for(var t="\n    #company .companies-list.detail-out, #company .companies-list.detail-out rect{\n      transition-delay: 0ms;\n      transition-delay: ".concat(300+80*e.list.length,"ms;\n    }\n    "),n=1;n<=e.list.length;n++)t+="\n        .company-item-".concat(n," text, .company-item-").concat(n," line{\n          transition-delay: ").concat(80*(e.list.length-1)-80*(n-1),"ms !important;\n        }\n        .company-item-").concat(n," circle{\n          transition-delay: ").concat(300+80*(e.list.length-1)-80*(n-1),"ms !important;\n        }\n        .detail-show .company-item-").concat(n," text, .detail-show .company-item-").concat(n," line{\n          transition-delay: ").concat(380+80*(n-1),"ms !important;\n        }\n        .detail-show .company-item-").concat(n," circle{\n          transition-delay: ").concat(80*n,"ms !important;\n        }\n      ");return t}()),u.a.createElement("g",{id:"companies-list",className:"companies-list detail-out"},u.a.createElement("rect",{className:"bg",x:"-100%",y:"-100%",width:"300%",height:"300%"}),e.list.map(function(t,n){var o=e.radius*a;return u.a.createElement("g",{className:"circle-item company-item-".concat(n+1),key:n},u.a.createElement("circle",{className:"node-empty",cx:"0",cy:"0",r:o+(n+1)*a}))}),e.list.map(function(t,n){var o=e.radius*a,i=s.x?o+a*e.list.length:o+a*(.2*e.list.length),r=o-a*e.list.length/2,c=i+n*(2*a),l=s.x?r+a*e.list.length:2*a;return u.a.createElement("g",{className:"company-item-".concat(n+1),key:n},u.a.createElement("line",{x1:"0",y1:a/2+o+n*a,x2:l-a/2,y2:c-a/2}),u.a.createElement("rect",{className:"bg",x:l,y:c-a,width:"".concat(.5*(t.name.length+t.acquisition_date.length),"em"),height:"1.5em"}),u.a.createElement("text",{className:"title",x:l,y:c,textAnchor:"left"},u.a.createElement("tspan",null,t.name),u.a.createElement("tspan",{className:"date"}," ",t.acquisition_date)))})),u.a.createElement("circle",{id:"shadow",className:"node shadow",cx:"0",cy:"0",r:"".concat(e.radius,"em"),style:{transform:"translate(0,".concat(0,"px)")}}),u.a.createElement("circle",{id:"clickable",className:"node clickable",cx:"0",cy:"0",r:"".concat(e.radius,"em"),style:{transform:"translate(0,".concat(0,"px)")}}),u.a.createElement("text",{className:"title large",x:"0",dy:"0",textAnchor:"middle",style:{transform:"translate(0,".concat(0,"px)")}},e.list.length),u.a.createElement("text",{className:"sub-title",x:"0",y:"0",textAnchor:"middle",style:{transform:"translate(0,".concat(0,"px)")}},u.a.createElement("tspan",{x:"0",y:"0",dy:"1.8em"},"Add on"),u.a.createElement("tspan",{x:"0",y:"0",dy:"2.8em"},"Companies"))):null},ze={logo:{dia:2,x:.5,y:.9},hq_location:{dia:4.3,x:.85,y:.6},date_exited:{dia:1.95,x:.32,y:.4},add_on_companies:{dia:4,x:.4,y:.15},other_locations:{dia:4,x:.84,y:.22},years_of_investment:{dia:4,x:.1504,y:.5868}},He=(ze.logo.x-ze.years_of_investment.x)/2,Ue=(ze.logo.y-ze.years_of_investment.y)/2;ze.date_aquired={dia:1.95,x:He+ze.years_of_investment.x,y:Ue+ze.years_of_investment.y};var Ge=function(e){var t=window.BrowserDetect.mobile?{duration:200}:{mass:2,tension:2500,friction:120},n={logo:{x:"".concat(100*ze.logo.x,"%"),y:"".concat(100*ze.logo.y,"%")},hq_location:{x:"".concat(100*ze.hq_location.x,"%"),y:"".concat(100*ze.hq_location.y,"%")},date_aquired:{x:"".concat(100*ze.date_aquired.x,"%"),y:"".concat(100*ze.date_aquired.y,"%")},date_exited:{x:"".concat(100*ze.date_exited.x,"%"),y:"".concat(100*ze.date_exited.y,"%")},add_on_companies:{x:"".concat(100*ze.add_on_companies.x,"%"),y:"".concat(100*ze.add_on_companies.y,"%")},other_locations:{x:"".concat(100*ze.other_locations.x,"%"),y:"".concat(100*ze.other_locations.y,"%")},years_of_investment:{x:"".concat(100*ze.years_of_investment.x,"%"),y:"".concat(100*ze.years_of_investment.y,"%")}},a=[u.a.createElement(Se,{key:"Logo",src:e.company.logo,pos:n.logo,radius:ze.logo.dia,triggerTrainingMode:e.triggerTrainingMode}),u.a.createElement(Te,{key:"Hq_location",loc:e.company.hq_location,pos:n.hq_location,radius:ze.hq_location.dia,triggerTrainingMode:e.triggerTrainingMode}),u.a.createElement(ke,{key:"Date_aquired",year:e.company.date_aquired,pos:n.date_aquired,radius:ze.date_aquired.dia,triggerTrainingMode:e.triggerTrainingMode}),u.a.createElement(je,{key:"Years_of_investment",begining:e.company.date_aquired,end:e.company.date_exited,pos:n.years_of_investment,radius:ze.years_of_investment.dia,triggerTrainingMode:e.triggerTrainingMode}),u.a.createElement(Me,{key:"Date_exited",year:e.company.date_exited,pos:n.date_exited,radius:ze.date_exited.dia,triggerTrainingMode:e.triggerTrainingMode}),u.a.createElement(Be,{key:"Other_locations",list:e.company.other_locations,pos:n.other_locations,radius:ze.other_locations.dia,toggleDetail:e.toggleDetail}),u.a.createElement(Fe,{key:"Add_on_companies",list:e.company.add_on_companies,pos:n.add_on_companies,radius:ze.add_on_companies.dia,toggleDetail:e.toggleDetail})],o=[{className:1,active:!0,base:"hq_location",x1:n.logo.x,y1:n.logo.y,x2:n.hq_location.x,y2:n.hq_location.y},{className:1,active:!0,base:"years_of_investment",x1:n.logo.x,y1:n.logo.y,x2:n.years_of_investment.x,y2:n.years_of_investment.y},{className:e.company.add_on_companies.length,active:e.company.add_on_companies.length>0,base:"add_on_companies",x1:n.logo.x,y1:n.logo.y,x2:n.add_on_companies.x,y2:n.add_on_companies.y},{className:e.company.other_locations.length,active:e.company.other_locations.length>0,base:"other_locations",x1:n.hq_location.x,y1:n.hq_location.y,x2:n.other_locations.x,y2:n.other_locations.y},{className:1,active:e.company.date_exited,base:"date_exited",x1:n.years_of_investment.x,y1:n.years_of_investment.y,x2:n.date_exited.x,y2:n.date_exited.y}],i={},r={transform:"translate3d(0, 0, 0)"};e.onInitialCard?i.transform="translate3d(0, -1%, 0)":"LEFT"===e.movingDirection?i.transform="translate3d(-3%, 0 ,0)":"RIGHT"===e.movingDirection&&(i.transform="translate3d(3%, 0 ,0)");var s=Object(l.useRef)(),c=Object(Oe.d)(a.length,{config:t,from:i,to:r,ref:s}),h=Object(l.useRef)(),m=Object(Oe.d)(o.length,{config:t,from:i,to:r,ref:h});return Object(Oe.b)([s,h],[0,0]),Object(l.useEffect)(function(){Ie(1,e.company.name)},[]),u.a.createElement("div",{className:"content-wrapper"},u.a.createElement("div",{className:"group-vert"},u.a.createElement("span",{className:"group"}," ",e.company.group," "),u.a.createElement("span",{className:"vert",style:{color:v.verticals[e.company.industry_vertical]}}," ",e.company.industry_vertical," ")),u.a.createElement("div",{className:"name-copy"},u.a.createElement("h1",{className:"name",style:{color:v.verticals[e.company.industry_vertical]},dangerouslySetInnerHTML:{__html:e.company.name}}),u.a.createElement("p",{className:"copy"},e.company.value_proposition)),u.a.createElement("svg",{id:"nodes",className:"nodes"},u.a.createElement("g",{className:"center"},m.map(function(e,t){return o[t].active?u.a.createElement(Oe.a.line,{className:"nodeLines ".concat(o[t].className>4?"":"dotted"),id:"line-to-".concat(o[t].base),x1:o[t].x1,y1:o[t].y1,x2:o[t].x2,y2:o[t].y2,key:t,style:e}):null}),c.map(function(e,t){return u.a.createElement(Oe.a.g,{id:a[t].key,style:e,key:t},a[t])}))))},Ve=function(e){var t=e.companies,n=Object(be.a)(e,["companies"]),a=Object(l.useState)(!1),o=Object(ve.a)(a,2),i=o[0],r=o[1],s=Object(l.useState)(!0),c=Object(ve.a)(s,2),h=c[0],m=c[1],d=Object(l.useState)(n.selectedCompanyIndex),p=Object(ve.a)(d,2),g=p[0],f=p[1],y=Object(l.useState)(null),v=Object(ve.a)(y,2),b=v[0],w=v[1],E=Object(l.useState)({prev:1===t.length?"hide":"show",next:1===t.length?"hide":"show"}),x=Object(ve.a)(E,2),_=x[0],C=(x[1],Object(l.useState)({clientX:null,timeStamp:null})),O=Object(ve.a)(C,2),T=O[0],k=O[1],M=Object(l.useRef)(),S="translate3d(100%, 0 ,0)",j="translate3d(-100%, 0, 0)",N=Object(l.useState)({from:{opacity:0},enter:{opacity:1},leave:{opacity:0}}),I=Object(ve.a)(N,2),A=I[0],L=I[1],D=Object(Oe.c)(function(){return{opacity:1}}),R=Object(ve.a)(D,2),P=R[0],B=R[1],F=Object(l.useState)([t[g]]),z=Object(ve.a)(F,2),H=z[0],U=z[1],G=Object(Oe.e)(H,function(e){return e.id},{config:{duration:300},from:A.from,enter:A.enter,leave:A.leave,reset:!0,unique:!0,onDestroyed:function(e){},onRest:function(e){i&&n.setSelectedCompany(null)}}),V=function(e){var n=t.length>1;w("RIGHT"),L({from:{opacity:1,transform:S},enter:{opacity:1,transform:"translate3d(0%, 0, 0)"},leave:{opacity:1,transform:j}}),B({opacity:1}),m(!n);var a=g+1>=t.length-1?0:g+1;U([t[a+1]]),f(a)},W=function(){var e=t.length>1;S="translate3d(-100%, 0 ,0)",j="translate3d(100%, 0, 0)",w("LEFT"),m(!e),L({from:{opacity:1,transform:S},enter:{opacity:1,transform:"translate3d(0%, 0, 0)"},leave:{opacity:1,transform:j}}),B({opacity:1});var n=g-1<=0?t.length-1:g-1;U([t[n-1]]),f(n)},q=function(e){M.current.classList.toggle("detail-active"),M.current.classList.toggle("".concat(e,"-active"))},Z=function(){r(!0),L({from:{opacity:1},enter:{opacity:0},leave:{opacity:0}}),B({opacity:0}),U([Object(ye.a)({},t[g],{id:"same"})])},Y=function(e){k({clientX:e.touches[0].clientX,timeStamp:e.timeStamp})},X=function(e){e.timeStamp-T.timeStamp<800&&Math.abs(e.changedTouches[0].clientX-T.clientX)>50&&(e.changedTouches[0].clientX>T.clientX?W():V())},K=function(){M.current.classList.toggle("training-mode"),setTimeout(function(){M.current.classList.toggle("training-mode")},2600)};return u.a.createElement("div",{className:"company-wrapper"},u.a.createElement(Oe.a.div,{className:"background",style:P}),G.map(function(e,t){var n=e.item,a=e.props,o=e.key;return u.a.createElement(Oe.a.div,{id:"company",style:a,key:o,ref:M,onTouchStart:Y,onTouchEnd:X},i?null:u.a.createElement(Ge,{company:n,movingDirection:b,shouldClose:i,onInitialCard:h,toggleDetail:q,triggerTrainingMode:K}),u.a.createElement("button",{className:"close",onClick:Z}," ",u.a.createElement("p",null,"Back Home"),u.a.createElement("img",{alt:"back home button",src:"".concat(window.location.protocol,"//").concat(window.location.hostname,"/data/assets/back_home@2x.png")})," "),u.a.createElement("button",{className:"arrow-previous ".concat(_.prev),onClick:W},u.a.createElement("svg",{xmlns:"https://www.w3.org/2000/svg",viewBox:"0 0 17.89 41.52"},u.a.createElement("defs",null,u.a.createElement("style",null,".cls-1{fill:none;stroke:#231f20;stroke-miterlimit:10;}")),u.a.createElement("title",null,"prev"),u.a.createElement("polyline",{className:"cls-1",points:"17.5 0.32 0.65 20.76 17.5 41.2"})),"  "),u.a.createElement("button",{className:"arrow-next ".concat(_.next),onClick:V},"  ",u.a.createElement("svg",{xmlns:"https://www.w3.org/2000/svg",viewBox:"0 0 17.89 41.52"},u.a.createElement("defs",null,u.a.createElement("style",null,".cls-1{fill:none;stroke:#231f20;stroke-miterlimit:10;}")),u.a.createElement("title",null,"next"),u.a.createElement("polyline",{className:"cls-1",points:"0.39 0.32 17.24 20.76 0.39 41.2"}))," "))}))},We=(n(84),function(e){var t=function(t){t.preventDefault();var n=t.currentTarget.attributes["data-id"].nodeValue;e.setSelectedCompany(n),Ie(0,e.nearBy)},n=Object(Oe.c)({from:{opacity:0,transform:"translateY(40%)"},to:{opacity:1,transform:"translateY(0)"},reset:!0}),a=Object(l.useRef)(),o=e.message?e.message:"Filtered companies",i=u.a.createElement("div",{id:"list"},u.a.createElement("h4",{className:"message",onClick:function(e){e.preventDefault(),a.current.classList.toggle("active"),a.current.classList.toggle("collapsed")}}," ",e.nearBy.length?e.nearBy.length:""," ",o,u.a.createElement("button",{className:"collapse-btn"}," ",u.a.createElement("span",null)," ")),u.a.createElement("ul",null,e.nearBy.map(function(a,o){var i={color:"".concat(v.verticals[a.industry_vertical])};return"Vista"===a.name?null:u.a.createElement("li",{key:o,style:i},u.a.createElement(Oe.a.div,{style:n},u.a.createElement("button",{style:e,className:"btn",onClick:t,"data-id":a.id},u.a.createElement("h6",null," ",a.industry_vertical),u.a.createElement("h4",{dangerouslySetInnerHTML:{__html:a.name}}),u.a.createElement("svg",{xmlns:"https://www.w3.org/2000/svg",viewBox:"0 0 60 60"},u.a.createElement("defs",null,u.a.createElement("style",null,"\n                          .circle-".concat(o," {\n                            stroke:").concat(v.verticals[a.industry_vertical],";\n                          }\n                          .cls-").concat(o," {\n                            fill: ").concat(v.verticals[a.industry_vertical],";\n                          }"))),u.a.createElement("path",{id:"Path_542",className:"cls-".concat(o),d:"M30.1,9l-3.5,3.5l13.7,13.7H10.4v4.9h29.9L26.6,44.9l3.5,3.5l19.7-19.7L30.1,9z"}),u.a.createElement("circle",{className:"circle-".concat(o),cx:"30.1",cy:"28.7",r:"27"})))))})));return u.a.createElement("div",{id:"list-wrapper",className:"".concat(e.className," ").concat(e.nearBy.length?" active":" collapsed"),ref:a},i)}),qe=(n(85),function(e){var t=u.a.createElement("img",{alt:"back home button",src:"".concat(window.location.protocol,"//").concat(window.location.hostname,"/data/assets/Instructions_desktop.svg")}),n=u.a.createElement("img",{alt:"back home button",src:"".concat(window.location.protocol,"//").concat(window.location.hostname,"/data/assets/Instructions_mobile.svg")});return u.a.createElement("div",{id:"instructions-wrapper",className:e.className,onClick:function(e){"BUTTON"!==e.target.nodeName&&(e.preventDefault(),e.stopPropagation())}},u.a.createElement("div",{id:"instructions"},u.a.createElement("h4",null," ",e.title),u.a.createElement("p",null,e.copy),u.a.createElement("div",{className:"icons"},window.BrowserDetect.mobile?n:t,u.a.createElement("button",null,"Let's go"))))}),Ze=(n(86),function(e){var t=e.showCopy,n=Object(l.useState)(t?"copy":"copy disable"),a=Object(ve.a)(n,2),o=a[0],i=a[1],r=Object(Oe.c)(function(){return{opacity:t?1:0}}),s=Object(ve.a)(r,3),c=s[0],h=s[1],m=(s[2],u.a.createElement(Oe.a.div,{style:c,className:o,onClick:function(e){e.preventDefault(),e.stopPropagation()}},u.a.createElement("button",{className:"close",onClick:function(e){e.preventDefault(),e.stopPropagation(),i("copy disable"),h({opacity:0})}},u.a.createElement("div",{className:"hit-area"})),u.a.createElement("div",{className:"center"},u.a.createElement("h3",null," Disclosure "),e.copy)));return u.a.createElement("div",{id:"disclosure",className:e.className},u.a.createElement("button",{className:"open-button",onClick:function(e){e.preventDefault(),e.stopPropagation(),i("copy"),h({opacity:1})}},"DISCLOSURE"),m)}),Ye=(n(87),{});Object.entries(v).forEach(function(e){Object.entries(e[1]).forEach(function(t){Ye["--".concat(e[0],"-").concat(t[0].toLowerCase().replace(/ /g,"-").replace(/,/g,"").replace(/&/g,"n"))]=t[1]})}),window.BrowserDetect=Object(g.a)();var Xe=function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(r.a)(this,Object(s.a)(t).call(this,e))).helpTimerDuration=4e5,n.state={activeGroup:"All",activeVertical:"All",companiesByFilter:[],allCompaniesInCircle:[],filteredCompaniesInCircle:[],filterMessage:"No Companies near by",selectedCompany:null,showHelpBlock:!0,fullscreen:!1},n.globeActive=!0,n.originalCompanies=[],n.industryVerticals=["All"],n}return Object(c.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.fetchCompanies()}},{key:"fetchCompanies",value:function(){var e=this,t=("https://".concat(window.location.hostname,"/wp-json/globeInteractive/v1/all"),"https://".concat(window.location.hostname,"/cashed_campany_data.json"));p.a.get(t).then(function(t){e.originalCompanies=t.data,e.originalCompanies.map(function(t){var n=t.industry_vertical;-1===e.industryVerticals.indexOf(n)&&e.industryVerticals.push(n)});var n=null;e.originalCompanies.forEach(function(e,t){"Vista"===e.name&&(n=t)}),e.originalCompanies.splice(n,1),e.setState({companiesByFilter:t.data,selectedCompany:null})})}},{key:"filterByGroup",value:function(e){var t=this,n=this.state.filteredCompaniesInCircle.length?this.state.filteredCompaniesInCircle:this.originalCompanies,o=Object(a.a)(n).filter(function(n){var a=n.group===e||"All"===e,o=n.industry_vertical===t.state.activeVertical||"All"===t.state.activeVertical;return a&&o});this.setState({activeGroup:e,companiesByFilter:o,filterMessage:null,filteredCompaniesInCircle:o})}},{key:"filterByVertical",value:function(e){var t=this,n=this.state.filteredCompaniesInCircle.length?this.state.filteredCompaniesInCircle:this.originalCompanies,o=Object(a.a)(n).filter(function(n){var a=n.group===t.state.activeGroup||"All"===t.state.activeGroup,o=n.industry_vertical===e||"All"===e;return a&&o});this.setState({activeVertical:e,companiesByFilter:o,filterMessage:null,filteredCompaniesInCircle:o})}},{key:"filterByIDs",value:function(e,t){var n=this.state.allCompaniesInCircle;e&&(n=e);var o=Object(a.a)(this.state.companiesByFilter).filter(function(e){return n.find(function(t){return e.id==t})}),i=!1;if(this.state.filteredCompaniesInCircle.length!==o.length||this.state.filterMessage!==t)i=!0;else for(var r=o.length;r--;)if(this.state.filteredCompaniesInCircle[r]!==o[r]){i=!0;break}i&&e&&this.setState({filteredCompaniesInCircle:o,allCompaniesInCircle:e,filterMessage:t})}},{key:"setSelectedCompany",value:function(e){var t=this.state.filteredCompaniesInCircle.find(function(t){return t.id==e});this.globeActive=!t,this.setState({selectedCompany:t})}},{key:"resetHelpTimer",value:function(){var e=this;if(this.state.showHelpBlock){this.setState({showHelpBlock:!1,fullscreen:!0});var t=window.document.createEvent("UIEvents");t.initUIEvent("resize",!0,!1,window,0),window.dispatchEvent(t)}window.clearTimeout(this.helpTimer),this.helpTimer=window.setTimeout(function(){e.setState({showHelpBlock:!0,fullscreen:!1});var t=window.document.createEvent("UIEvents");t.initUIEvent("resize",!0,!1,window,0),window.dispatchEvent(t)},this.helpTimerDuration)}},{key:"getSelectedCompany",value:function(){var e=this.state.filteredCompaniesInCircle.indexOf(this.state.selectedCompany);return this.state.selectedCompany?u.a.createElement(Ve,{selected:this.state.selectedCompany,selectedCompanyIndex:e,setSelectedCompany:this.setSelectedCompany.bind(this),companies:this.state.filteredCompaniesInCircle}):null}},{key:"render",value:function(){var e=this,t=this.state,n=t.showHelpBlock,a=t.companiesByFilter,o=t.filteredCompaniesInCircle,i=t.filterMessage,r=t.fullscreen;return u.a.createElement("section",{className:"".concat(this.props.className," ").concat(r?"fullscreen":""),onClick:this.resetHelpTimer.bind(this),style:Ye},u.a.createElement("button",{className:"fullscreen-btn",onClick:function(){e.setState({fullscreen:!r})}},r?u.a.createElement("img",{src:"".concat(window.location.protocol,"//").concat(window.location.hostname,"/data/assets/exit-fullscreen.svg"),alt:"exit-fullscreen"}):u.a.createElement("img",{src:"".concat(window.location.protocol,"//").concat(window.location.hostname,"/data/assets/enter-fullscreen.svg"),alt:"enter-fullscreen"})),u.a.createElement(qe,{className:"".concat(n?"show-component":"hide-component"),title:window.globe_interactive.instructions_title,copy:window.globe_interactive.instructions_copy}),u.a.createElement(Ze,{className:"".concat(n?"show-component":"hide-component"),showCopy:!1,copy:window.globe_interactive.disclosures}),u.a.createElement(Ce,{className:"".concat(n?"hide-component":"show-component"),industryVerticals:this.industryVerticals,updateByVertical:this.filterByVertical.bind(this),updateByGroup:this.filterByGroup.bind(this)}),u.a.createElement(ge,{className:"".concat(n?"hide-component":"show-component"),companies:a,updateByIDs:this.filterByIDs.bind(this),active:this.globeActive}),u.a.createElement(We,{className:"".concat(n?"hide-component":"show-component"),nearBy:o,message:i,setSelectedCompany:this.setSelectedCompany.bind(this)}),this.getSelectedCompany())}}]),t}(l.Component);m.a.render(u.a.createElement(Xe,{id:"globe-interactive",className:"globe-interactive ".concat(window.BrowserDetect.mobile?"mobile":"desktop")}),document.getElementById("app"))}},[[39,1,2]]]);
//# sourceMappingURL=main.2151cbc1.chunk.js.map